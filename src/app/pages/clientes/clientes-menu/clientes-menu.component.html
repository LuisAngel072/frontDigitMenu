<div class="container">
  <input type="text" class="search-bar" placeholder="Buscar platillo...">
  <div class="accordion" id="menuAccordion">
    <div *ngFor="let cat of categorias; let i = index" class="accordion-item">
      <h2 class="accordion-header" [id]="'heading' + i">
        <button class="accordion-button custom-button" type="button" data-bs-toggle="collapse"
          [attr.data-bs-target]="'#collapse' + i" aria-expanded="false"
          [attr.aria-controls]="'collapse' + i">
          {{ cat.nombre_cat }}
        </button>
      </h2>
      <div [id]="'collapse' + i" class="accordion-collapse collapse"
        [attr.aria-labelledby]="'heading' + i" data-bs-parent="#menuAccordion">
        <div class="accordion-body">
          <div class="list-group">
            <div *ngFor="let sub of cat.subcategorias">
              <button class="list-group-item list-group-item-action" data-bs-toggle="collapse"
                [attr.data-bs-target]="'#subcat-' + sub.id_subcat">
                {{ sub.nombre_subcat }}
              </button>

              <div class="collapse" [id]="'subcat-' + sub.id_subcat">
                <div *ngIf="sub.productos?.length > 0">
                  <button
                    *ngFor="let prod of sub.productos"
                    class="list-group-item list-group-item-action"
                    (click)="showProduct(prod.nombre_prod)">
                    {{ prod.nombre_prod }} - ${{ prod.precio }}
                  </button>
                </div>
                <div *ngIf="!sub.productos || sub.productos.length === 0">
                  <p class="text-muted ms-3">Sin productos</p>
                </div>
              </div>
            </div>

            <div *ngIf="cat.subcategorias.length === 0">
              <p class="text-muted">No hay subcategor√≠as</p>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>
